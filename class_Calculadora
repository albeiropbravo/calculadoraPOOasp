using System;
using System.Collections.Generic;

namespace CalculadoraASPPOO.Models
{
    /// <summary>
    /// Representa una calculadora b谩sica que permite realizar operaciones aritm茅ticas
    /// (+, -, *, /) entre dos n煤meros. 
    /// Adem谩s, mantiene un historial de operaciones realizadas.
    /// </summary>
    public class Calculadora
    {
        /// <summary>
        /// Primer n煤mero a utilizar en la operaci贸n.
        /// </summary>
        public double Numero1 { get; set; }

        /// <summary>
        /// Segundo n煤mero a utilizar en la operaci贸n.
        /// </summary>
        public double Numero2 { get; set; }

        /// <summary>
        /// Almacena el resultado de la 煤ltima operaci贸n realizada.
        /// </summary>
        public double Resultado { get; set; }

        // ==============================
        // Manejo del historial
        // ==============================

        /// <summary>
        /// Lista privada que guarda las operaciones realizadas.
        /// Solo es modificable internamente mediante los m茅todos de la clase.
        /// </summary>
        private readonly List<OperacionesDate> _historial = new();

        /// <summary>
        /// Registra una operaci贸n en el historial con la fecha, hora y el texto de la operaci贸n.
        /// </summary>
        /// <param name="text">Texto descriptivo de la operaci贸n (ej: "5 + 3 = 8").</param>
        private void RegistrarOperacion(string text)
        {
            _historial.Add(new OperacionesDate
            {
                Time = DateTime.Now,
                Text = text
            });
        }

        // ==============================
        // Operaciones aritm茅ticas
        // ==============================

        /// <summary>
        /// Realiza la suma entre <see cref="Numero1"/> y <see cref="Numero2"/>.
        /// </summary>
        /// <returns>El resultado de la suma.</returns>
        public double Sumar()
        {
            Resultado = Numero1 + Numero2;
            RegistrarOperacion($"{Numero1} + {Numero2} = {Resultado}");
            return Resultado;
        }

        /// <summary>
        /// Realiza la resta entre <see cref="Numero1"/> y <see cref="Numero2"/>.
        /// </summary>
        /// <returns>El resultado de la resta.</returns>
        public double Restar()
        {
            Resultado = Numero1 - Numero2;
            RegistrarOperacion($"{Numero1} - {Numero2} = {Resultado}");
            return Resultado;
        }

        /// <summary>
        /// Realiza la multiplicaci贸n entre <see cref="Numero1"/> y <see cref="Numero2"/>.
        /// </summary>
        /// <returns>El resultado de la multiplicaci贸n.</returns>
        public double Multiplicar()
        {
            Resultado = Numero1 * Numero2;
            RegistrarOperacion($"{Numero1} * {Numero2} = {Resultado}");
            return Resultado;
        }

        /// <summary>
        /// Realiza la divisi贸n entre <see cref="Numero1"/> y <see cref="Numero2"/>.
        /// </summary>
        /// <exception cref="DivideByZeroException">Se lanza si <see cref="Numero2"/> es 0.</exception>
        /// <returns>El resultado de la divisi贸n.</returns>
        public double Dividir()
        {
            if (Numero2 == 0)
            {
                throw new DivideByZeroException("No se puede dividir entre cero");
            }

            Resultado = Numero1 / Numero2;
            RegistrarOperacion($"{Numero1} / {Numero2} = {Resultado}");
            return Resultado;
        }

        // ==============================
        // M茅todos utilitarios
        // ==============================

        /// <summary>
        /// Reinicia los valores de la calculadora y limpia el historial de operaciones.
        /// </summary>
        public void Limpiar()
        {
            Numero1 = 0;
            Numero2 = 0;
            Resultado = 0;
            _historial.Clear();
        }

        /// <summary>
        /// Obtiene una lista de solo lectura con el historial de operaciones realizadas.
        /// </summary>
        public IReadOnlyList<OperacionesDate> Historial => _historial.AsReadOnly();
    }
}
 Notas importantes para tus estudiantes:
Encapsulamiento del historial
_historial es privado para que nadie pueda modificarlo desde afuera, solo la clase lo gestiona.
Se expone con IReadOnlyList<OperacionesDate> para consulta, pero no permite modificaciones externas.

Buenas pr谩cticas
Uso de throw para manejar errores (ej. divisi贸n por cero).
Uso de interpolaci贸n de cadenas $"{...}" para registrar operaciones con claridad.

Extensibilidad
Esta clase puede crecer con nuevas operaciones (ej. potencias, ra铆ces, m贸dulo).

El historial podr铆a almacenarse luego en base de datos en lugar de memoria.
